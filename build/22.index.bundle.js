"use strict";(self.webpackChunkflowtrade=self.webpackChunkflowtrade||[]).push([[22],{53022:(e,t,r)=>{r.r(t),r.d(t,{default:()=>te});var a=r(25602),n=r(36478),c=r(96261),l=r(78257),o=r(7658),s=r(74045),i=r(73419),d=r(50135),u=r(62764),h=r(60711),m=r.n(h),p=r(4769),f=r.n(p),g=r(48618),y=r.n(g),b=r(85214),S=r(3203),k=r(72615),E=(r(76469),r(17647)),C=r(82458),w=r(28235),v=r(35839),x=r(58604),T=r(81157),N=r(11793),L=r(85510),R=r(46195),D=r(47849),M=r(95845),A=r(3769),F=r(59154),I=r(96946),U=r(63282),P=(r(42111),r(17665),r(26618),r(89339));function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},B.apply(null,arguments)}const H=(e,t,r,a)=>{const n=new Date(new Date(+e).toLocaleString("en-US",{timeZone:"America/New_York"}));if(n.getHours()>=16&&a)return!1;if(5e5==+t.L)return!1;if(0==+t.O&&0==+t.C)return!1;0==+t.O&&(t.O=+t.C),0==+t.C&&(t.C=+t.O);const c=1==r?9==n.getHours()&&30==n.getMinutes():9==n.getHours()&&45==n.getMinutes();return{date:n,timestamp:n.getTime(),epoch:+e,open:+t.O,high:+t.H,low:+t.L,close:+t.C,volume:+t.V,upTick:+t.U,downTick:+t.D,darkUpTick:+t.DU,darkDownTick:+t.DD,startOfDay:c,bids:t.bids,asks:t.asks}};let z,V=(0,a.forwardRef)((e,t)=>{const{type:r,width:n,height:c,symbol:l,ratio:o,settings:s,chartKey:i,chartUid:h,chartEvent:p,charts:g,chartState:b,darkMode:k,whiteColor:E,primaryDarkColor:C,primaryLightColor:w,primaryLightBackground:v,xEventsState:x,screenShotSrc:T,showScreenShotModal:D,updateTheCharts:F,selectedChart:I,selectedChartEvent:V,fullScreenMode:j,updateProperty:W,SetChartSettings:K}=e,_=(0,a.useRef)(null),$=(0,a.useRef)(2),X=(0,a.useRef)(-150),Y=(0,a.useRef)(!1),J=(0,a.useRef)(0),Q=(0,a.useRef)(0),q=(0,a.useRef)(!1),G=(0,a.useRef)(!1),Z=(0,a.useRef)(0),ee=(0,a.useRef)(!1),te=(0,a.useRef)([]),re=(0,a.useRef)([]),ae=(0,a.useRef)({}),ne=(0,a.useRef)(!1),ce=(0,a.useRef)(!1),[le,oe]=(0,a.useState)(null),[se,ie]=(0,a.useReducer)(e=>e+1,0),[de,ue]=(0,a.useState)(!1),[he,me]=(0,a.useState)(!1),pe=(0,a.useRef)(null),[fe,ge]=(0,a.useState)(null),[ye,be]=(0,a.useState)(1),Se=(0,a.useRef)([]),ke=((0,a.useRef)(null),(0,a.useRef)(!1));let Ee=(0,a.useRef)({}),Ce=(0,a.useRef)(null),we=(0,a.useRef)(null),ve=(0,a.useRef)(null),xe=(0,a.useRef)(null),Te=(0,a.useRef)(null),Ne=(0,a.useRef)(null),Le=(0,a.useRef)(null),Re=(0,a.useRef)(null),De=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(null==we.current){let e=(e=>{let t=e.toLowerCase().charCodeAt(0);return t>=97&&t<102?"ae":t>=102&&t<=108?"fl":t>=109&&t<=115?"ms":t>=116&&t<=122?"tz":void 0})(i),t=new Date,r=f()(t).tz("America/New_York"),n=([0,6].includes(r.day())?r.subtract(0==r.day()?2:1,"days"):r.hour()<9?r.subtract(1,"days"):r).format("YYYY-MM-DD");we.current=a.firebase.firebase.database(a.firebase["live"+e]).ref(`${i}`),ve.current=a.firebase.firebase.database(a.firebase["poly"+e]).ref(`1m/${i}`).orderByKey().limitToLast(2),xe.current=a.firebase.firebase.database(a.firebase["poly"+e]).ref(`15m/${i}`).orderByKey().limitToLast(30),Te.current=a.firebase.firebase.database(a.firebase.blocks).ref(`symbols/${i}`).orderByKey(),Ce.current=a.firebase.firebase.database(a.firebase.tracking).ref(`${n}/one/latest`),De.current=a.firebase.firebase.database(a.firebase.livefutures).ref(`symbols/${i}`),Ne.current=a.firebase.firebase.database(a.firebase.futures).ref(`1m/${i}`).orderByKey().limitToLast(2),Le.current=a.firebase.firebase.database(a.firebase.futures).ref(`15m/${i}`).orderByKey().limitToLast(30),Re.current=a.firebase.firebase.database(a.firebase.blocksfutures).ref(`symbols/${i}`).orderByKey()}},[]),(0,a.useEffect)(()=>{null!=p&&p.chart==h&&p.uid!=pe.current&&(pe.current=p.uid,He(p.code))},[p]),(0,a.useEffect)(()=>{q.current=s.replayMarket,Z.current>0&&parseInt(Z.current)!=parseInt(s.replayMarketSettings.speed)&&(G.current=!0),Z.current=parseInt(s.replayMarketSettings.speed),Pe()},[s.replayMarket]),(0,a.useEffect)(()=>{ne.current=s.takeScreenShot,Ue()},[s.takeScreenShot]),(0,a.useEffect)(()=>{ce.current=s.showGrid},[s.showGrid]),(0,a.useEffect)(()=>{var e,t;ge((e=s.priceBarsColor,(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null))},[s.priceBarsColor]),(0,a.useEffect)(()=>{ct()},[s.periodicity]),(0,a.useEffect)(()=>{tt()},[s.blocktradesDates]),(0,a.useEffect)(()=>{de&&at()},[de]),(0,a.useEffect)(()=>()=>{we.current.off("value"),ve.current.off("value"),xe.current.off("value"),Ce.current.off("value"),Te.current.off("value"),Ne.current.off("value"),Le.current.off("value"),Re.current.off("value"),De.current.off("value")},[]);const Me=e=>{we.current.once("value",t=>{const r=new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"}));if(r.getHours()>=16||r.getHours()<9||9==r.getHours()&&r.getMinutes()<30||9==r.getHours()&&r.getMinutes()<45&&15==e||0==r.getDay()||6==r.getDay())return;const a=t.val(),n=Se.current[Se.current.length-1],c=new Date(+n.timestamp+6e4*e);15==n.date.getHours()&&59==n.date.getMinutes()||Se.current.push({date:c,open:+n.close,high:+n.close,low:+a.C,close:+a.C,volume:+a.V,upTick:+a.U,downTick:+a.D,darkUpTick:+a.DU,darkDownTick:+a.DD})})},Ae=e=>{De.current.once("value",t=>{const r=new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"}));if(0==r.getDay()||6==r.getDay())return;const a=t.val(),n=Se.current[Se.current.length-1],c=new Date(+n.timestamp+6e4*e);Se.current.push({date:c,open:+n.close,high:+n.close,low:+a.C,close:+a.C,volume:+a.V,upTick:+a.U,downTick:+a.D,darkUpTick:+a.DU,darkDownTick:+a.DD})})},Fe=e=>{const t=Se.current[Se.current.length-1],r=new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"}));void 0!==t&&((9==r.getHours()&&30==r.getMinutes()&&"1m"==s.periodicity||9==r.getHours()&&r.getMinutes()<45&&"15m"==s.periodicity)&&!ke.current?(ke.current=!0,Se.current.push({date:r,open:+t.close,high:+t.close,low:+t.close,close:+t.close,volume:0,upTick:0,downTick:0,darkUpTick:0,darkDownTick:0})):Se.current[Se.current.length-1]={...t,close:e.val().C,high:e.val().C>t.high?e.val().C:t.high,low:e.val().C<t.low?e.val().C:t.low,volume:e.val().V,upTick:e.val().U,downTick:e.val().D,darkUpTick:e.val().DU,darkDownTick:e.val().DD},ie())},Ie=e=>{const t=Se.current[Se.current.length-1],r=new Date((new Date).toLocaleString("en-US",{timeZone:"America/New_York"}));0!=r.getDay()&&6!=r.getDay()&&void 0!==t&&((23==r.getHours()&&59==r.getMinutes()&&"1m"==s.periodicity||23==r.getHours()&&r.getMinutes()<45&&"15m"==s.periodicity)&&!ke.current?(ke.current=!0,Se.current.push({date:r,open:+t.close,high:+t.close,low:+t.close,close:+t.close,volume:0,upTick:0,downTick:0,darkUpTick:0,darkDownTick:0})):Se.current[Se.current.length-1]={...t,close:e.val().C,high:e.val().C>t.high&&e.val().C>0?e.val().C:t.high,low:e.val().C<t.low&&e.val().C>0?e.val().C:t.low,volume:e.val().V,upTick:e.val().U,downTick:e.val().D,darkUpTick:e.val().DU,darkDownTick:e.val().DD},ie())},Ue=()=>{if(ne.current){ne.current=!1,Ze({takeScreenShot:!1});const e=S.findDOMNode(_.current);N.dE.save(document,e,"#24252f",l+"|"+s.periodicity,j?180:90,function(e){W({showScreenShotModal:!0,screenShotSrc:e})})}},Pe=()=>{q.current&&!Y.current?(Y.current=!0,z=window.setInterval(function(){Be()},Z.current)):!q.current&&ee.current&&(Ze({replayMarket:!1,replayMarketSettings:{speed:250}}),$.current=2,X.current=-150,oe([J.current,Q.current]),ee.current=!1)},Be=()=>{oe([$.current,X.current]),$.current=$.current+1,X.current=X.current+1,($.current>Se.current.length||!q.current||"pause"==q.current||G.current)&&(clearInterval(z),Y.current=!1,$.current>Se.current.length&&(q.current=!1),q.current?G.current?(G.current=!1,Pe()):"pause"==q.current&&(ee.current=!0):(Ze({replayMarket:!1,replayMarketSettings:{speed:250}}),$.current=2,X.current=-150,oe([J.current,Q.current]),ee.current=!1))},He=e=>{switch(console.log("keypress:"+e),e){case 46:{let e=[],t=[];const r=et("trends");void 0!==r&&(e=r.filter(e=>!e.selected));const a=et("retracements");void 0!==a&&(t=a.filter(e=>!e.selected)),null!=_.current&&_.current.cancelDrag(),Ze({trends:e,retracements:t}),K({trends:e,retracements:t},h,!1,!0,!0);break}case 9:{let e=g.findIndex(e=>e.chartUid==h),t=void 0!==g[e+1]?e+1:0;W({selectedChartEvent:null,selectedChart:g[t].chartUid});break}case 32:W({selectedChartEvent:null,selectedChart:null});break;case 27:null!=_.current&&_.current.cancelDrag(),Ze({trendLine:!1,fibonacciRetracements:!1});break;case 70:Ze({drawingMode:!0,fibonacciRetracements:!0,fibonacciTrendLineColor:s.fibonacciRetracementsColor||"#2ec2ff"});break;case 76:Ze({drawingMode:!0,trendLine:!0,trendLineType:"LINE",trendLineColor:s.trendLineLineColor||"#2ec2ff"});break;case 82:Ze({drawingMode:!0,trendLine:!0,trendLineType:"RAY",trendLineColor:s.trendLineRayColor||"#2ec2ff"});break;case 88:Ze({drawingMode:!0,trendLine:!0,trendLineType:"XLINE",trendLineColor:s.trendLineXlineColor||"#2ec2ff"});break;default:null!=_.current&&_.current.cancelDrag()}},ze=e=>{localStorage.setItem(h,JSON.stringify([0,e])),localStorage.setItem("scale_"+h,JSON.stringify({length:e,end:0})),localStorage.removeItem("yScale_"+h),be(ye+1)},Ve=(0,M.Dn)().id(0).options({flowType:s.flowIndex,strokeWidth:Number(s.flowIndexWidth)}).merge((e,t)=>{e.flowindex=t}).accessor(e=>e.flowindex).stroke("normal"===s.flowIndex?s.flowIndexColor:"dark-pool"===s.flowIndex?s.flowDarkIndexColor:s.flowBothIndexColor),Oe=(0,M.pr)().options({windowSize:10,strokeWidth:Number(s.flowIndexWidth)}).merge((e,t)=>{e.flowindexavg=t}).accessor(e=>e.flowindexavg).stroke(s.flowIndexAvgColor);console.log(Ve.accessor(),"flowindex");const je=(e=>{let t=e;const r=P.A.scale(["08233e","98c4f0"]);return Object.keys(ae.current).length&&e.length&&e.map((e,a)=>{if(void 0!==ae.current[e.epoch]){let n=ae.current[e.epoch];const c=(e=>{if("buys"in e&&"sells"in e){let t=Object.keys(e.buys).map(t=>+e.buys[t]),r=Object.keys(e.sells).map(t=>+e.sells[t]);return t.concat(r)}return[]})(n).sort((e,t)=>e-t);let l;l=c.length>0?c[c.length-1]:1;let o=[],s=[];Object.keys(n.buys).sort().map((e,t)=>{const a=Number.parseFloat(e).toFixed(2);n.buys[e],o.push({type:"bid",fill:(0,L.zX)(r(1).hex(),1),hit:a})}),Object.keys(n.sells).sort().map((e,t)=>{const a=Number.parseFloat(e).toFixed(2);let c=n.sells[e]/l;s.push({type:"ask",fill:(0,L.zX)(r(c).hex(),1),hit:a})}),t[a]={...t[a],maxBidAsk:l,heatCells:o.concat(s)}}else t[a]={...t[a],maxBidAsk:1,heatCells:[].concat([])}}),t})((e=>{let t=e;return te.current&&e.length&&e.map((e,r)=>{let a=("0"+(e.date.getMonth()+1)).slice(-2)+"-"+("0"+e.date.getDate()).slice(-2)+" "+("0"+e.date.getHours()).slice(-2)+":"+("0"+e.date.getMinutes()).slice(-2);const n=te.current.filter(e=>e.timeCondition==a);n.length>0&&(t[r]={...t[r],blockTrade:!0,blockTradeValue:n[0].yValue})}),t})((e=>{let t=e;return re.current.length&&e.length&&re.current.map(r=>{e.map((e,a)=>{let n=f()(+r.startTimeStamp).tz("America/New_York"),c=f()(+r.endTimeStamp).tz("America/New_York"),l=f()(+e.epoch).tz("America/New_York");l>=n&&l<=c&&(t[a]={...t[a],divergenceDetected:!0,divergenceTrend:r.trend})})}),t})(Oe(Ve(Se.current))))),We=R.MZ.inputDateAccessor(e=>e.date),{data:Ke,xScale:_e,xAccessor:$e,displayXAccessor:Xe}=We(je),Ye=$e((0,L.HV)(Ke)),Je=$e(Ke[0]);let Qe,qe=localStorage.getItem("scale_"+h),Ge=localStorage.getItem("yScale_"+h);if(null!==qe){let e=JSON.parse(qe),t=Se.current.length+e.end;Qe=[t-e.length,t]}else Qe=[Ye,Je];q.current||(J.current=Qe[0],Q.current=Qe[1]),null!==le&&(Qe=le);const Ze=e=>{const t=g.filter(e=>e.chartUid===h);void 0!==t[0]&&(t[0].chartSettings={...t[0].chartSettings,...e},W({currentChartSettings:t[0].chartSettings,updateTheCharts:!F}))},et=e=>g.filter(e=>e.chartUid===h)[0].chartSettings[e],tt=e=>{Te.current.off("value"),Re.current.off("value"),"stocks"==s.securityType?Te.current.limitToLast(Number(s.blocktradesDates)).on("value",rt):Re.current.limitToLast(Number(s.blocktradesDates)).on("value",rt)},rt=e=>{let t=[];e.forEach(function(e){e.forEach(function(e){const r=e.val(),a=+r.t,n=m()(a).tz("America/New_York").format("MM-DD HH:mm");t.push({...A.g7.defaultProps.defaultPriceCoordinate,fontSize:9,bgFill:r.D?s.blockTradesDarkPoolColor:s.blockTradesRegularPoolColor,stroke:r.D?s.blockTradesDarkPoolColor:s.blockTradesRegularPoolColor,textFill:"#ffffff",timeCondition:n,text:Number(r.P).toFixed(2),textBox:{...A.g7.defaultProps.defaultPriceCoordinate.textBox,Radius:8,show:!0,fontSize:9,height:15,left:0,padding:{left:3,right:3},closeIcon:{padding:{left:0,right:0},width:0}},edge:{...A.g7.defaultProps.defaultPriceCoordinate.edge,fill:r.D?s.blockTradesDarkPoolColor:s.blockTradesRegularPoolColor,strokeWidth:0,strokeOpacity:0,arrowWidth:0,rectWidth:25,rectHeight:15,rectRadius:7},yValue:r.P,id:y().generate(),draggable:!1,hoverText:{...U.A.defaultProps,bgFill:r.D?s.blockTradesDarkPoolColor:s.blockTradesRegularPoolColor,fill:"#ffffff",bgOpacity:1,enable:!0,bgHeight:18,bgWidth:120,text:n+" | "+r.P.toFixed(2)}})})}),te.current=t,ie()},at=e=>{Ce.current.on("value",nt)},nt=async e=>{let t=[];e.forEach(function(e){if(["priceDown","priceUp"].find(t=>t==e.key)){let r="priceDown"==e.key?"#0ccf02":"#d0021b";e.forEach(function(a){let n=+a.key;a.forEach(function(a){const c=a.val();c.s==i&&(t.some(e=>e.endTimeStamp==c.t&&e.fill==r)||t.push({id:a.key,startTimeStamp:String(+c.t-6e4*n),endTimeStamp:+c.t,fill:r,canvasGradient:(0,L.s6)([{stop:0,color:(0,L.zX)(r,.025)},{stop:.5,color:(0,L.zX)(r,.15)},{stop:1,color:(0,L.zX)(r,.5)}]),trend:e.key,opacity:.1,startLine:{stroke:r,strokeWidth:1,strokeOpacity:.7,strokeDasharray:"ShortDash"}}))})})}});const r=new Promise(e=>{let r=[];t.map((e,a)=>{if(0==a)r.push(e);else{let n=t[a-1];+n.endTimeStamp>+e.startTimeStamp&&n.fill==e.fill?(r.push({...e,startTimeStamp:n.startTimeStamp}),r=r.filter(e=>e.id!==n.id)):r.push(e)}}),e(r)}),a=await r;re.current=a,ie()},ct=()=>{ue(!1),Se.current=[],"15m"==s.periodicity?"stocks"==s.securityType?(ve.current.off("value"),xe.current.on("value",ot)):(Ne.current.off("value"),Le.current.on("value",ot)):"stocks"==s.securityType?(xe.current.off("value"),ve.current.on("value",lt)):(Le.current.off("value"),Ne.current.on("value",lt)),"stocks"==s.securityType?(we.current.off("value"),we.current.on("value",Fe)):(De.current.off("value"),De.current.on("value",Ie))},lt=e=>{let t=[];e.forEach(function(e){e.forEach(function(e){const r=H(e.key,e.val(),1,"stocks"==s.securityType);!1!==r&&t.push(r)})}),0==t.length?(me(!0),ue(!0)):(Se.current=t,"stocks"==s.securityType?Me(1):Ae(1),ue(!0)),ie(),Ee.current=s},ot=e=>{let t=[];e.forEach(function(e){e.forEach(function(e){const r=H(e.key,e.val(),15,"stocks"==s.securityType);!1!==r&&t.push(r)})}),0==t.length?(me(!0),ue(!0)):(Se.current=t,"stocks"==s.securityType?Me(15):Ae(15),ue(!0)),ie(),Ee.current=s};return he?a.createElement("div",{style:{height:c,position:"relative"}},a.createElement("div",{className:"absolute-text d-flex flex-column align-items-center justify-content-center"},a.createElement(u.Ay,{name:"cis-sad",height:35}),a.createElement("span",{className:"h3 mt-2"},"Unavailable"))):de?a.createElement(O,B({},e,{suffixState:ye,data:Ke,xScale:_e,xAccessor:$e,displayXAccessor:Xe,xExtents:Qe,yExtents:e=>{if(null!==Ge){let t=JSON.parse(Ge);return[Math.max(e.high,t[1]),Math.min(e.low,t[0])]}return[e.high,e.low]},rgbaColor:fe,onDrawCompleteChart:e=>{Ze({trendLine:!1,trends:e}),K({trends:e},h,!1,!0,!0)},onDrawCompleteRetracement:e=>{Ze({fibonacciRetracements:!1,retracements:e}),K({retracements:e},h,!1,!0,!0)},handleSelection:e=>{e.map(e=>{e.chartId==h&&("Trendline"==e.type?(Ze({trends:e.objects}),K({trends:e.objects},h,!1,!0,!0)):"FibonacciRetracement"==e.type&&(Ze({retracements:e.objects}),K({retracements:e.objects},h,!1,!0,!0)))})},handleReset:ze,handleFirst:e=>{let t=localStorage.getItem("scale_"+h);if(null!==t){let e=JSON.parse(t);localStorage.setItem("scale_"+h,JSON.stringify({length:e.length,end:0})),be(ye+1)}else ze(e)},flowindex:Ve,flowindexavg:Oe,chartBlocksValuesRef:te,chartCanvasRef:_,showGridRef:ce})):a.createElement("div",{style:{height:c,position:"relative"}},a.createElement(d.JT,{className:"absolute-spinner"}))}),O=(0,a.forwardRef)((e,t)=>{const{type:r,width:n,height:c,symbol:l,ratio:o,settings:s,chartKey:i,chartUid:d,chartEvent:u,suffixState:h,data:m,xScale:p,xAccessor:f,displayXAccessor:g,xExtents:y,yExtents:b,rgbaColor:S,onDrawCompleteChart:k,onDrawCompleteRetracement:N,handleSelection:R,handleReset:M,handleFirst:U,flowindex:P,flowindexavg:H,chartBlocksValuesRef:z,chartCanvasRef:V,showGridRef:O,charts:j,chartState:W,darkMode:K,whiteColor:_,primaryDarkColor:$,primaryLightColor:X,primaryLightBackground:Y,xEventsState:J,screenShotSrc:Q,showScreenShotModal:q,updateTheCharts:G,selectedChart:Z,selectedChartEvent:ee,updateProperty:te,SetChartSettings:re}=e;var ae={left:0,right:50,top:20,bottom:30},ne=c-ae.top-ae.bottom,ce=n-ae.left-ae.right,le=O.current?{innerTickSize:-1*ce,tickStrokeDasharray:"Solid",tickStrokeOpacity:.1,tickStrokeWidth:1}:{},oe=O.current?{innerTickSize:-1*ne,tickStrokeDasharray:"Solid",tickStrokeOpacity:.1,tickStrokeWidth:1}:{};return a.createElement(w.v,{height:c,ref:V,ratio:o,width:n,chartUid:d,margin:ae,padding:15,type:r,seriesName:"MSFT_"+h,data:m,xScale:p,xAccessor:f,displayXAccessor:g,xExtents:y},a.createElement(w.t1,{id:d,yExtents:b,padding:{top:10,bottom:10}},a.createElement(T.W,B({axisAt:"bottom",orient:"bottom",stroke:"white",strokeWidth:.15,opacity:.1,tickStroke:K?_:Y,ticks:10,customLevels:[11,12]},oe)),a.createElement(T.h,B({axisAt:"right",orient:"right",stroke:"white",strokeWidth:.15,opacity:.1,tickStroke:K?_:Y,ticks:8},le)),a.createElement(v.St,null),a.createElement(D.YO,{at:"bottom",orient:"bottom",fontSize:10,rectWidth:25,rectHeight:15,rectRadius:7,displayFormat:(0,C.DC)("%b %d, %H:%M"),fill:K?$:X}),a.createElement(D.R,{at:"right",orient:"right",displayFormat:(0,E.GP)(".2f"),arrowWidth:0,fontSize:10,rectWidth:25,rectHeight:15,rectRadius:7,fill:K?$:X}),"ohlc"==s.chartType&&a.createElement(v.sg,{stroke:s.priceBarsColor}),"candles"==s.chartType&&a.createElement(v.HD,{wickStroke:s.priceBarsColor,fill:function(e){return S?e.close>e.open?"rgba("+S.r+", "+S.g+", "+S.b+", 0.8)":"rgba("+S.r+", "+S.g+", "+S.b+", 0.1)":e.close>e.open?"rgba(196, 205, 211, 0.8)":"rgba(22, 22, 22, 0.8)"},stroke:s.priceBarsColor,candleStrokeWidth:1,widthRatio:.8,opacity:1}),a.createElement(D.b1,{itemType:"last",orient:"right",edgeAt:"right",lineStroke:"#ffffff",lineOpacity:.5,arrowWidth:0,fontSize:10,rectWidth:25,rectHeight:15,rectRadius:10,yAccessor:e=>e.close,fill:e=>e.close>e.open?"#6BA583":"#FF0000"}),a.createElement(x.mZ,{origin:[0,-10],labelFill:K?$:X,textFill:K?_:Y}),s.blocksLine&&a.createElement(A.g7,{enabled:!1,yCoordinateList:z.current}),a.createElement(A.O5,{ref:(0,F.vz)("Trendline",d),enabled:s.trendLine,type:s.trendLineType,snap:!1,snapTo:e=>[e.high,e.low],onComplete:k,trends:s.trends,appearance:{stroke:s.trendLineColor||$,strokeOpacity:1,strokeWidth:1,strokeDasharray:"Solid",edgeStrokeWidth:1,edgeFill:"#FFFFFF",edgeStroke:"#000000",r:6}}),a.createElement(A.DQ,{ref:(0,F.vz)("FibonacciRetracement",d),enabled:s.fibonacciRetracements,type:"EXTEND",retracements:s.retracements,onComplete:N,appearance:{stroke:s.fibonacciTrendLineColor||$,strokeWidth:1,strokeOpacity:1,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:11,fontFill:K?"#FFFFFF":"#000000",edgeStroke:"#000000",edgeFill:"#FFFFFF",nsEdgeFill:s.fibonacciTrendLineColor||$,edgeStrokeWidth:1,r:5}}),s.blocksLine&&a.createElement(I.PZ,{with:I.MF,when:e=>e.blockTrade,usingProps:{fontFamily:"coreui-icons-solid",fontSize:8,fill:"white",opacity:1,className:"blocktrades-marker",text:"",y:({yScale:e,datum:t})=>e(t.blockTradeValue),tooltip:e=>(0,C.DC)("%b %d, %H:%M")(e.date)}}),s.showDivergence&&a.createElement(a.Fragment,null,a.createElement(v.ti,{key:`${d}priceDown`,yAccessor:e=>{if(e.divergenceDetected&&"priceDown"==e.divergenceTrend)return e.close},strokeWidth:0,strokeOpacity:0,upperArea:!0,canvasGradient:(0,L.s6)([{stop:0,color:(0,L.zX)("#0ccf02",.85)},{stop:.5,color:(0,L.zX)("#0ccf02",.35)},{stop:1,color:(0,L.zX)("#0ccf02",0)}])}),a.createElement(v.ti,{key:`${d}priceUp`,yAccessor:e=>{if(e.divergenceDetected&&"priceUp"==e.divergenceTrend)return e.close},strokeWidth:0,strokeOpacity:0,canvasGradient:(0,L.s6)([{stop:0,color:(0,L.zX)("#d0021b",0)},{stop:.5,color:(0,L.zX)("#d0021b",.35)},{stop:1,color:(0,L.zX)("#d0021b",.85)}])})),a.createElement(w.Dg,{onReset:()=>{M(m.length)},onFirst:()=>{U(m.length)},dataLength:m.length})),a.createElement(w.t1,{id:`${d}2`,yExtents:P.accessor(),padding:{top:10,bottom:20}},a.createElement(v.Im,{yAccessor:P.accessor(),stroke:P.stroke(),strokeWidth:P.options().strokeWidth}),a.createElement(D.A$,{yAccessor:P.accessor(),fill:P.stroke()})),s.showAverage&&a.createElement(w.t1,{id:`${d}3`,yExtents:H.accessor(),padding:{top:10,bottom:20}},a.createElement(v.Im,{yAccessor:H.accessor(),stroke:H.stroke(),strokeWidth:H.options().strokeWidth}),a.createElement(D.A$,{yAccessor:H.accessor(),fill:H.stroke()})),a.createElement(D.HJ,{stroke:K?_:Y,strokeDasharray:"Solid",opacity:.2}),a.createElement(A.Dq,{enabled:!s.trendLine&&!s.fibonacciRetracements,getInteractiveNodes:F.I8,drawingObjectMap:{Trendline:"trends",FibonacciRetracement:"retracements"},onSelect:R}))});O=(0,N.G0)(O);const j=(0,k.Zz)((0,n.Ng)(e=>({charts:e.charts.charts,chartState:e.charts.chartState,darkMode:e.charts.darkMode,whiteColor:e.charts.whiteColor,primaryDarkColor:e.charts.primaryDarkColor,primaryLightColor:e.charts.primaryLightColor,primaryLightBackground:e.charts.primaryLightBackground,xEventsState:e.charts.xEventsState,screenShotSrc:e.charts.screenShotSrc,showScreenShotModal:e.charts.showScreenShotModal,updateTheCharts:e.charts.updateTheCharts,selectedChart:e.charts.selectedChart,selectedChartEvent:e.charts.selectedChartEvent,fullScreenMode:e.charts.fullScreenMode}),e=>({updateProperty:t=>e((0,c.$)(t)),SetChartSettings:(t,r,a,n,c)=>e((0,l.SU)(t,r,a,n,c))})))(V);(0,n.Ng)((e,t)=>({charts:e.charts.charts,fullScreenMode:e.charts.fullScreenMode,updateTheCharts:e.charts.updateTheCharts,chartState:e.charts.chartState,newChartLoaded:e.charts.newChartLoaded,currentSymbol:t.currentSymbol,mainHeight:t.mainHeight}),e=>({updateProperty:t=>e((0,c.$)(t))}))(e=>{const{currentSymbol:t,currentUid:r,currentEvent:n,mainHeight:c,charts:l,fullScreenMode:o,newChartLoaded:s,updateTheCharts:i,chartState:u,updateProperty:h}=e;if(0==c)return null;const[m,p]=(0,a.useState)(!1),[f,g]=(0,a.useReducer)(e=>e+1,0),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{s&&(h({newChartLoaded:!1}),p(!1)),S(t,r,n),p(!0)},[e,l]);const S=(e,t,r)=>{const a=l.filter(e=>e.chartUid===t);if(null==y.current)return void(y.current=a[0]);if(void 0===a[0])return;const n=y.current;let c=!1;n.chartSettings.periodicity!==a[0].chartSettings.periodicity&&(localStorage.removeItem(t),localStorage.removeItem("scale_"+t),c=!0),y.current={...a[0],chartData:c?[]:n.chartData||[],chartSettings:{...a[0].chartSettings,blocks:c?null:n.chartSettings.blocks||null,zonesDivergence:c?null:n.chartSettings.zonesDivergence||null}},null!=r&&r.chart==t&&(y.current={...y.current,chartEvent:r}),g()};return m?a.createElement(b.ErrorBoundary,{FallbackComponent:({error:e,resetErrorBoundary:t})=>null,onReset:()=>{}},a.createElement(j,{type:"hybrid",height:c,chartProps:y.current,symbol:y.current.chartSymbol,settings:y.current.chartSettings,chartKey:y.current.chartSymbol,chartUid:y.current.chartUid,chartEvent:y.current.chartEvent})):a.createElement("div",{style:{height:c,position:"relative"}},a.createElement(d.JT,{className:"absolute-spinner"}))});var W=r(91974);const K=(0,k.Zz)((0,n.Ng)((e,t)=>{let r=[];return r="stocks"==t.selectedSecurity?"polySymbols"in e.firebase.data&&null!=e.firebase.data.polySymbols?e.firebase.data.polySymbols:[]:"futuresSymbols"in e.firebase.data&&null!=e.firebase.data.futuresSymbols?e.firebase.data.futuresSymbols:[],{brands:r}},e=>({updateProperty:t=>e((0,c.$)(t)),EditMarket:(t,r,a,n)=>e((0,l.$h)(t,r,a,n))})),(0,W.firebaseConnect)(e=>""!=e.searchQuery?"stocks"==e.selectedSecurity?[{path:"/polySymbols",queryParams:["orderByKey","limitToFirst=100","startAt="+e.searchQuery.toUpperCase(),"endAt="+e.searchQuery.toUpperCase()+""]}]:[{path:"/futuresSymbols",queryParams:["orderByKey","limitToFirst=100","startAt="+e.searchQuery.toUpperCase(),"endAt="+e.searchQuery.toUpperCase()+""]}]:"stocks"==e.selectedSecurity?[{path:"/polySymbols",queryParams:["orderByKey","limitToFirst=100"]}]:[{path:"/futuresSymbols",queryParams:["orderByKey","limitToFirst=100"]}]))(e=>{const{brands:t,searchQuery:r,selectedSecurity:n,EditMarket:c,updateProperty:l}=e,o=(0,a.useRef)(!1),s=(0,a.useRef)(null),i=(0,a.useRef)("stocks"),h=(0,a.useRef)([]);(0,a.useEffect)(()=>{o.current||(o.current=!0,window.addEventListener("keyup",m)),i.current=n,s.current=r},[r,n]),(0,a.useEffect)(()=>{h.current=t},[t]),(0,a.useEffect)(()=>()=>{l({disableEvent:!1}),window.removeEventListener("keyup",m),o.current=!1},[]);const m=async e=>{if(13==e.which&&null!==s.current){let e=s.current.toUpperCase();e in h.current&&c(e,0,!1,{securityType:i.current})}};return a.createElement(a.Fragment,null,Object.keys(t).map((e,r)=>a.createElement(d.UF,{key:r,xs:"12",sm:"12",md:"12",className:"p-0 mb-1"},a.createElement(d.E$,{className:"m-0"},a.createElement(d.W6,{className:"d-flex align-items-center p-0 justify-content-between"},a.createElement("div",{className:"d-flex align-items-center p-3"},a.createElement("div",null,a.createElement("div",{className:"text-value text-info"},e),a.createElement("div",{className:"text-muted text-uppercase font-italic small"},t[e]))),a.createElement("div",{className:"mr-3 text-info"},a.createElement(d.KV,{onClick:()=>c(e,0,!1,{securityType:i.current})},a.createElement(u.Ay,{name:"cil-plus-circle",size:"2xl"}))))))))}),_=(0,n.Ng)(e=>({brandsModelShow:e.charts.brandsModelShow,existingCharts:e.charts.existingCharts}),null)(e=>{const{brandsModelShow:t,existingCharts:r}=e,n=(0,a.useRef)(null),c=(0,a.useRef)(null),[l,o]=(0,a.useState)(!1),[s,i]=(0,a.useState)(""),[u,h]=(0,a.useState)("stocks");return(0,a.useEffect)(()=>{null!=n.current&&t&&setTimeout(function(){document.querySelector("#searchSymbols").focus()},500),t||(n.current.value="")},[t]),a.createElement(a.Fragment,null,l&&a.createElement("div",{className:"c-custom_loader"},a.createElement("div",{className:"lds-ripple"},a.createElement("div",null),a.createElement("div",null))),a.createElement(d.UF,{key:"searchBrandList",xs:"12",sm:"12",md:"12",className:"p-0 mb-1"},a.createElement(d.E$,{className:"m-0"},a.createElement(d.W6,{innerRef:c,className:"d-flex align-items-center p-0 justify-content-between"},a.createElement(d.ev,{innerRef:n,type:"text",id:"searchSymbols",name:"search-symbols",placeholder:"Search Symbol",onChange:e=>{i(e.target.value)}})))),a.createElement(d.UF,{key:"securityType",xs:"12",sm:"12",md:"12",className:"p-0 mb-1"},a.createElement(d.E$,{className:"m-0"},a.createElement(d.W6,{className:"d-flex align-items-center pr-0 pl-0 pb-1 pt-1 justify-content-between"},a.createElement(d.by,{component:"nav",variant:"pills",className:"flex-column flex-sm-row"},a.createElement(d.HQ,{className:"security-type_navlink font-weight-bold",href:"#",active:"stocks"===u,onClick:()=>{n.current.value="",i(""),h("stocks"),document.querySelector("#searchSymbols").focus()}},"Equities"),a.createElement(d.HQ,{className:"security-type_navlink font-weight-bold",href:"#",active:"futures"===u,onClick:()=>{n.current.value="",i(""),h("futures"),document.querySelector("#searchSymbols").focus()}},"Futures"))))),a.createElement(K,{searchQuery:s,selectedSecurity:u}))});var $=r(46770),X=(r(86190),r(86387)),Y=r.n(X),J=(r(15631),r(80333));const Q=(0,k.Zz)((0,n.Ng)((e,t)=>({auth:e.firebase.auth,charts:e.charts.charts,fullScreenMode:e.charts.fullScreenMode,fullScreenBrand:e.charts.fullScreenBrand,mainHeight:e.charts.mainHeight,headerHeight:e.charts.headerHeight,settingsModelShow:e.charts.settingsModelShow,showScreenShotModal:e.charts.showScreenShotModal,currentChartSettings:e.charts.currentChartSettings,updateTheCharts:e.charts.updateTheCharts,selectedChart:e.charts.selectedChart,selectedChartEvent:e.charts.selectedChartEvent,brandsModelShow:e.charts.brandsModelShow,disableEvent:e.charts.disableEvent,myWatchList:"mySymbols"in e.firebase.data&&null!==e.firebase.data.mySymbols[e.firebase.auth.uid]?e.firebase.data.mySymbols[e.firebase.auth.uid]:{}}),e=>({updateProperty:t=>e((0,c.$)(t)),SetChartSettings:(t,r,a,n)=>e((0,l.SU)(t,r,a,n)),EditMarket:(t,r,a,n)=>e((0,l.$h)(t,r,a,n)),EditWatchList:(t,r)=>e((0,l.WA)(t,r))})),(0,W.firebaseConnect)(e=>[{path:`mySymbols/${e.auth.uid}`,queryParams:["orderByKey"]}]))(e=>{const{auth:t,charts:r,fullScreenMode:n,fullScreenBrand:c,mainHeight:l,headerHeight:o,settingsModelShow:s,showScreenShotModal:i,currentChartSettings:h,myWatchList:m,disableEvent:p,updateTheCharts:f,updateProperty:g,SetChartSettings:y,EditMarket:S,EditWatchList:k,selectedChart:E,selectedChartEvent:C,brandsModelShow:w}=e,[v,x]=(0,a.useState)(null),[T,N]=(0,a.useState)([]),L=(0,a.useRef)(null),R=(0,a.useRef)(null),D=(0,a.useRef)(!1),M=(0,a.useRef)(!1),A=(0,a.useRef)(null),F=(0,a.useRef)(""),I=(0,a.useRef)(!0),U=(0,a.useRef)(!1),P=(0,a.useRef)(!1),B=(0,a.useRef)(!1),[H,z]=(0,a.useState)(!1),[V,O]=(0,a.useState)(!1),W=((0,a.useRef)(!1),(0,a.useCallback)(e=>{null!==e&&e.getBoundingClientRect().height>0&&g({headerHeight:e.getBoundingClientRect().height})},[]));(0,a.useEffect)(()=>{A.current=E,M.current=p,P.current=n,D.current||(D.current=!0,window.addEventListener("keydown",K),window.addEventListener("wheel",_,{passive:!1}))},[E,n,p]),(0,a.useEffect)(()=>()=>{window.removeEventListener("keydown",K),window.removeEventListener("wheel",_,{passive:!1}),D.current=!1},[]);const K=e=>{if(null!=A.current&&!M.current){if(e.altKey)return e.preventDefault(),void(e.keyCode>=65&&e.keyCode<=90&&(83==e.keyCode?P.current?g({fullScreenMode:!1}):g({fullScreenBrand:A.current,fullScreenMode:!0}):g({selectedChartEvent:{chart:A.current,code:e.keyCode,uid:Y()()}})));if(13==e.keyCode){if(B.current){let e=F.current.toUpperCase().replace("/","");const t=U.current?"futures":"stocks";z(!1),U.current=!1,B.current=!1,S(e,A.current,!1,{securityType:t}),F.current=""}}else 27==e.keyCode&&B.current?(z(!1),U.current=!1,B.current=!1,F.current=""):e.keyCode>=65&&e.keyCode<=90||191==e.keyCode||111==e.keyCode?B.current||(191!=e.keyCode&&111!=e.keyCode||(U.current=!0),z(A.current),B.current=A.current,R.current.focus()):(9==e.which&&e.preventDefault(),g({selectedChartEvent:{chart:A.current,code:e.which,uid:Y()()}}))}},_=e=>{e.ctrlKey&&(e.stopPropagation(),e.preventDefault())};return 0==r.length?a.createElement(d.sK,null):a.createElement(d.sK,{className:"parent_charts-list mr-0 ml-0"},a.createElement(a.Fragment,null,r.map((e,t)=>{let r="stocks"==e.chartSettings.securityType?e.chartSymbol:e.chartSymbol+"*0";return a.createElement(d.UF,{innerRef:E==e.chartUid?L:null,onClick:()=>{g({selectedChartEvent:null,selectedChart:e.chartUid})},key:e.chartUid,style:{height:n?l:l/2},className:"chartlist-container "+(n&&c!=e.chartUid?"d-none":""),xs:"12",sm:n?"12":"6",md:n?"12":"6"},E==e.chartUid&&a.createElement("div",{className:"chartlist-container_shadow"}),a.createElement(d.E$,{className:"m-0"+(E==e.chartUid&&" z-index-2")},a.createElement(d.V0,{innerRef:W,className:"card-header-actions mr-0 d-flex align-items-center justify-content-between c-header"},a.createElement("div",{style:{zIndex:10},className:"d-flex w-50"},H==e.chartUid&&a.createElement($.A,{placeholderProps:"Symbols filter",isMultiProps:!1,refProps:R,futuresAsync:U.current,onChangeProps:e=>{if(I.current){const t=e.value;z(!1),B.current=!1,S(t,A.current,!1,{securityType:U.current?"futures":"stocks"})}I.current=!0},onInputChangeProps:e=>{""!=e&&(F.current=e)},onKeyDownProps:e=>{13==e.keyCode&&(I.current=!1)},defaultMenuIsOpen:!0})||a.createElement("span",{onClick:()=>g({brandsModelShow:!0}),className:"h5 ml-2 mb-0 chart-symbol_container"},e.chartSymbol)),a.createElement("div",{className:"card-header-actions d-flex align-items-center"},a.createElement(d.jl,{content:"Time Frame"},a.createElement(d.$X,{shape:"pill",style:{outline:"1.5px solid "+e.chartSettings.priceBarsColor,cursor:"pointer",height:20},className:"ml-1 mr-1 d-flex align-items-center justify-content-center",onClick:()=>{localStorage.removeItem(e.chartUid),localStorage.removeItem("scale_"+e.chartUid),localStorage.removeItem("yScale_"+e.chartUid),y({periodicity:"1m"==e.chartSettings.periodicity?"15m":"1m"},e.chartUid,!1,!0)}},e.chartSettings.periodicity)),"futures"!==e.chartSettings.securityType&&a.createElement(d.jl,{content:"Flow Index"},a.createElement(d.$X,{shape:"pill",style:{outline:"1.5px solid "+("normal"===e.chartSettings.flowIndex?e.chartSettings.flowIndexColor:"dark-pool"===e.chartSettings.flowIndex?e.chartSettings.flowDarkIndexColor:e.chartSettings.flowBothIndexColor),cursor:"pointer",height:20},className:"ml-1 mr-1 d-flex align-items-center justify-content-center",onClick:()=>{let t;switch(e.chartSettings.flowIndex){case"normal":t="dark-pool";break;case"dark-pool":t="both";break;case"both":t="normal"}y({flowIndex:t},e.chartUid,!1,!0)}},["normal","dark-pool","both"].map(t=>{if(e.chartSettings.flowIndex==t)switch(e.chartSettings.flowIndex){case"normal":return"Flow Index";case"dark-pool":return"DarkPool Index";case"both":return"Combo"}}))),J.Fr&&a.createElement(d.KV,{className:"d-flex card-header-action pl-1 pr-1",onClick:()=>{O(!V)}},a.createElement(u.Ay,{name:"cis-grip-dots-vertical",className:V?"text-danger":"",height:20})),a.createElement("div",{className:J.Fr?V?"d-flex flex-column align-items-center custom-mobile_flex":"d-none":"d-flex align-items-center"},e.chartSettings.replayMarket&&a.createElement(a.Fragment,null,!("pause"==e.chartSettings.replayMarket)&&a.createElement(d.jl,{content:"Pause Market"},a.createElement(d.KV,{className:(J.Fr,"pt-1 pb-0"),onClick:()=>{y({replayMarket:"pause"},e.chartUid,!1,!1)}},a.createElement(u.Ay,{name:"cis-media-pause-circle",height:20}))),"pause"==e.chartSettings.replayMarket&&a.createElement(d.jl,{content:"Play Market"},a.createElement(d.KV,{className:(J.Fr,"pt-1 pb-0"),onClick:()=>{y({replayMarket:"play"},e.chartUid,!1,!1)}},a.createElement(u.Ay,{name:"cis-media-play-circle",height:20}))),a.createElement(d.jl,{content:"Stop Market"},a.createElement(d.KV,{className:"card-header-action p-07",onClick:()=>{y({replayMarket:!1},e.chartUid,!1,!1)}},a.createElement(u.Ay,{name:"cis-media-stop-circle",height:20}))),a.createElement(d.jl,{content:"Speed"},a.createElement("div",{className:"card-header-action p-07"},a.createElement(d.mt,{custom:!0,size:"xs",name:"selectSm",id:"SelectLm",value:e.chartSettings.replayMarketSettings.speed,onChange:t=>{y({replayMarketSettings:{speed:t.target.value}},e.chartUid,!1,!1)}},a.createElement("option",{value:"500"},"Slow"),a.createElement("option",{value:"250"},"Normal"),a.createElement("option",{value:"100"},"Fast"))))),!e.chartSettings.replayMarket&&a.createElement(a.Fragment,null,a.createElement(d.jl,{content:"Watch List"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{k(r,!(r in m))}},r in m&&a.createElement(u.Ay,{height:20,className:"text-danger d-flex",name:"cis-queue-remove"})||a.createElement(u.Ay,{className:"d-flex",name:"cil-queue-add",height:20}))),a.createElement("div",{onClick:t=>{if(t.target.parentNode.classList.contains("chartTypes-option")||t.target.parentNode.classList.contains("chartTypes-list")){let r=t.target.parentNode.classList.contains("chartTypes-option")?t.target.parentNode.getAttribute("data-chartype"):t.target.getAttribute("data-chartype");y({chartType:r},e.chartUid,!1,!0)}}},a.createElement(d.p3,{content:a.createElement("ul",{className:"chartTypes-list"},a.createElement("div",{className:"chartTypes-option"+("ohlc"==e.chartSettings.chartType?" chartTypes-option-selected":""),"data-chartype":"ohlc"},a.createElement("img",{src:a.icons.Tools.ohlc},null),a.createElement("span",{},"OHLC")),a.createElement("div",{className:"chartTypes-option"+("candles"==e.chartSettings.chartType?" chartTypes-option-selected":""),"data-chartype":"candles"},a.createElement("img",{src:a.icons.Tools.candles},null),a.createElement("span",{},"Candles"))),placement:"bottom",interactive:!0,trigger:"click"},a.createElement(d.Jm,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1")+" chartType-container",src:a.icons.Tools[e.chartSettings.chartType]}))),!e.chartSettings.drawingMode&&a.createElement(d.jl,{content:"Drawing Tools"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({drawingMode:!0},e.chartUid,!1,!0)}},a.createElement(u.Ay,{className:"d-flex",name:"cil-color-border",height:20}))),e.chartSettings.drawingMode&&a.createElement("div",{className:J.Fr?"d-flex flex-column-reverse align-items-center":"d-flex align-items-center",style:{backgroundColor:"rgba(0, 0, 21, 0.75)",borderRadius:5,padding:"5px 2px 5px 2px",boxShadow:"0 2px 2px 0 rgba(var(--elevation-base-color), .14), 0 3px 1px -2px rgba(var(--elevation-base-color), .12), 0 1px 5px 0 rgba(var(--elevation-base-color), .20)"}},a.createElement(d.jl,{content:"Fibonacci Retracements ( ALT+F )"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-0 pr-0"),onClick:()=>{y({fibonacciRetracements:!e.chartSettings.fibonacciRetracements,fibonacciTrendLineColor:e.chartSettings.fibonacciRetracementsColor},e.chartUid,!1,!1)}},e.chartSettings.fibonacciRetracements&&a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",height:20,src:a.icons.Tools.fibonacciHeaderSelected})||a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",height:20,src:a.icons.Tools.fibonacciHeader}))),a.createElement(d.jl,{content:"Finite Line ( ALT+L )"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-0 pr-0"),onClick:()=>{y({trendLine:!e.chartSettings.trendLine,trendLineType:"LINE",trendLineColor:e.chartSettings.trendLineLineColor},e.chartUid,!1,!1)}},e.chartSettings.trendLine&&"LINE"==e.chartSettings.trendLineType&&a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",src:a.icons.Tools.sLineHeaderSelected})||a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",src:a.icons.Tools.sLineHeader}))),a.createElement(d.jl,{content:"Semi-Infinite Line ( ALT+R )"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-0 pb-0":"pl-0 pr-0"),onClick:()=>{y({trendLine:!e.chartSettings.trendLine,trendLineType:"RAY",trendLineColor:e.chartSettings.trendLineRayColor},e.chartUid,!1,!1)}},e.chartSettings.trendLine&&"RAY"==e.chartSettings.trendLineType&&a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",height:20,src:a.icons.Tools.siLineHeaderSelected})||a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",height:20,src:a.icons.Tools.siLineHeader}))),a.createElement(d.jl,{content:"Infinite Line ( ALT+X )"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-0 pr-0"),onClick:()=>{y({trendLine:!e.chartSettings.trendLine,trendLineType:"XLINE",trendLineColor:e.chartSettings.trendLineXlineColor},e.chartUid,!1,!1)}},e.chartSettings.trendLine&&"XLINE"==e.chartSettings.trendLineType&&a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",height:20,src:a.icons.Tools.iLineHeaderSelected})||a.createElement(d.Jm,{className:"d-flex card-header-action chartType-container",height:20,src:a.icons.Tools.iLineHeader}))),a.createElement(d.jl,{content:"Drawing Tools"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({drawingMode:!1},e.chartUid,!1,!0)}},a.createElement(u.Ay,{className:"d-flex text-danger",name:"cis-color-border",height:20})))),a.createElement(d.jl,{content:"ScreenShot"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({takeScreenShot:!0},e.chartUid,!1,!1),g({showScreenShotModal:!i})}},a.createElement(u.Ay,{className:"d-flex",name:"cis-images",height:20}))),!e.chartSettings.blocksLine&&a.createElement(d.jl,{content:"Show BlockTrades"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({blocksLine:!e.chartSettings.blocksLine},e.chartUid,!1,!0)}},a.createElement(u.Ay,{className:"d-flex",name:"cil-image-broken",height:20}))),e.chartSettings.blocksLine&&a.createElement("div",{className:J.Fr?"d-flex flex-column-reverse align-items-center":"d-flex align-items-center",style:{backgroundColor:"rgba(0, 0, 21, 0.75)",borderRadius:5,padding:"5px 2px 5px 2px",boxShadow:"0 2px 2px 0 rgba(var(--elevation-base-color), .14), 0 3px 1px -2px rgba(var(--elevation-base-color), .12), 0 1px 5px 0 rgba(var(--elevation-base-color), .20)"}},a.createElement(d.ev,{style:{width:"60px"},size:"xs",type:"number",value:e.chartSettings.blocktradesDates,onChange:t=>{let r=t.target.value;r<=30&&r>0&&y({blocktradesDates:r},e.chartUid,!1,!0)}}),a.createElement(d.jl,{content:"Hide BlockTrades"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({blocksLine:!e.chartSettings.blocksLine},e.chartUid,!1,!0)}},a.createElement(u.Ay,{className:"d-flex text-danger",name:"cis-image-broken",height:20})))),a.createElement(d.jl,{content:"Show Divergence"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({showDivergence:!e.chartSettings.showDivergence},e.chartUid,!1,!0)}},!e.chartSettings.showDivergence&&a.createElement(u.Ay,{className:"d-flex",name:"cil-call-split",height:20}),e.chartSettings.showDivergence&&a.createElement(u.Ay,{className:"d-flex text-danger",name:"cis-call-split",height:20}))),a.createElement(d.jl,{content:"Replay Market"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({replayMarket:!0},e.chartUid,!1,!1)}},a.createElement(u.Ay,{className:"d-flex",name:"cis-media-play-circle",height:20}))),a.createElement(d.jl,{content:"Chart Settings"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({chartSymbol:e.chartSymbol},e.chartUid,!1),g({settingsModelShow:!s})}},a.createElement(u.Ay,{className:"d-flex",name:"cis-settings",height:20}))),n&&!J.Fr&&a.createElement(d.jl,{content:"Restore Screen ( ALT + S )"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{y({fullScreenMode:!1},e.chartUid,!0,!1),g({fullScreenMode:!n})}},a.createElement(u.Ay,{className:"d-flex",name:"cis-window-restore",height:20}))),!n&&a.createElement(d.jl,{content:"Full Screen ( ALT + S )"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{let t=e.chartUid;y({fullScreenMode:!0},e.chartUid,!0,!1),g({fullScreenBrand:t,fullScreenMode:!n})}},a.createElement(u.Ay,{className:"d-flex",name:"cis-window-maximize",height:20}))),!n&&a.createElement(d.jl,{content:"Remove Chart"},a.createElement(d.KV,{className:"d-flex card-header-action "+(J.Fr?"pt-1 pb-1":"pl-1 pr-1"),onClick:()=>{S(e.chartSymbol,e.chartUid,!0),localStorage.removeItem(e.chartUid),localStorage.removeItem("scale_"+e.chartUid),localStorage.removeItem("yScale_"+e.chartUid)}},a.createElement(u.Ay,{className:"d-flex",name:"cis-x-circle",height:20}))))))),a.createElement(d.W6,{className:"p-0 d-flex justify-content-center",style:{backgroundColor:e.chartSettings.backgroundColor}},a.createElement("div",{className:"chart-watermark"},a.createElement(u.Ay,{content:a.icons.flowtradeDarkLogo,height:"95",alt:"Flowtrade"})),a.createElement(b.ErrorBoundary,{FallbackComponent:({error:e,resetErrorBoundary:t})=>null,onReset:()=>{}},a.createElement(j,{type:"hybrid",height:n?l-o:l/2-o,symbol:e.chartSymbol,settings:e.chartSettings,chartKey:e.chartSymbol,chartUid:e.chartUid,chartEvent:E==e.chartUid?C:null})))))})))});var q=r(18970);const G=(0,n.Ng)(e=>({currentChartSettings:e.charts.currentChartSettings,settingsModelShow:e.charts.settingsModelShow,charts:e.charts.charts,updateTheCharts:e.charts.updateTheCharts,applyToAllChart:e.charts.applyToAllChart}),e=>({updateProperty:t=>e((0,c.$)(t)),SetChartSettings:(t,r,a,n,c,o)=>e((0,l.SU)(t,r,a,n,c,o))}))(e=>{const{settingType:t,settingTitle:r,settingId:n,settingAttribute:c,settingApplyToAll:l,currentChartSettings:o,settingsModelShow:s,charts:i,updateTheCharts:h,applyToAllChart:m,updateProperty:p,SetChartSettings:f}=e,[g,y]=(0,a.useState)([]),[b,S]=(0,a.useReducer)(e=>e+1,0);(0,a.useEffect)(()=>{let e=[];c.map((t,r)=>{t.colors&&(e[r]=!1)}),y(e)},[]);const k=(e,t,r,a=!0)=>{let n=[];const c=m?i.length:1;m?i.map(e=>{n.push(e)}):n=i.filter(e=>e.chartSymbol===o.chartSymbol);for(var l=0;l<c;l++){let t=m?n[l].chartUid:o.chartUid;"object"==typeof e.id?f({...e.id,chartSymbol:t},t,!1,a,!1,m):f({[r]:e.id,chartSymbol:t},t,!1,a,!1,m)}t&&p({settingsModelShow:!s})};return a.createElement(a.Fragment,null,r&&a.createElement(d.y5,{className:"h5 mb-0 d-flex flex-direction-row align-items-center justify-content-between"},a.createElement("div",null,r)),"multiple"==t&&c.map((e,t)=>a.createElement(d.y5,{key:t,action:!0,active:o[n]==e.id,className:"pl-5 custom-active mb-0",onClick:()=>k(e,!1,n)},e.name," ",a.createElement("i",{className:"cis-check-alt"}))),"simple"==t&&c.map((e,t)=>a.createElement(d.y5,{key:t,action:!0,className:"h5 mb-0 d-flex flex-direction-row align-items-center justify-content-between"},a.createElement("div",{onClick:()=>{e.onClick&&k(e,!0,n,!1)},style:{cursor:e.onClick?"pointer":"default"}},e.icon&&a.createElement(u.Ay,{className:"pr-2",src:a.icons.Tools[e.icon],height:25}),e.name,e.shortCode&&a.createElement("small",{className:"font-italic text-muted"}," ( "+e.shortCode+" )")),e.options&&a.createElement("div",null,a.createElement(d.ji,{className:"btn-group card-header-action pl-1 pr-1"},a.createElement(d.VH,{color:"primary",size:"sm",className:"font-weight-bold"},e.showValue||e.value),a.createElement(d.QR,{placement:"right"},e.options.map((t,r)=>a.createElement(d.kd,{key:r,onClick:()=>k(t,!1,e.id),active:t.id==e.value},t.name))))),e.switch&&a.createElement("div",{className:"card-header-action pl-1 pr-1"},a.createElement(d.Cd,{className:"",color:"info",checked:e.value||!1,shape:"pill",variant:"3d",onChange:()=>{k({id:!e.value},!1,e.id)}})),e.colors&&a.createElement("div",null,a.createElement("div",{style:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},onClick:()=>{let e=g;e[t]=!g[t],y(e),S()}},a.createElement("div",{style:{width:"36px",height:"14px",borderRadius:"2px",background:e.value}})),g[t]&&a.createElement("div",{style:{position:"absolute",zIndex:"2"}},a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:()=>{let e=g;e[t]=!g[t],y(e),S()}}),a.createElement(q.Xq,{color:e.value,onChange:t=>k({id:t.hex},!1,"colorId"in e?e.colorId:e.id)}))),e.input&&a.createElement("div",null,a.createElement(d.ev,{style:{width:"60px"},size:"xs",type:"number",value:e.value||1,onChange:t=>{let r=t.target.value;if(e.maxValue||e.minValue){if(e.maxValue&&r>e.maxValue)return;if(e.minValue&&r<e.minValue)return}k({id:r},!1,e.id)}})))))}),Z=(0,n.Ng)(e=>({currentChartSettings:e.charts.currentChartSettings}))(e=>{const{currentChartSettings:t}=e,[r,n]=(0,a.useState)(0),[c,l]=(0,a.useState)(0);return a.createElement(d.sK,null,a.createElement(d.UF,{className:"pr-0",xs:"5"},a.createElement(d.XR,{id:"list-tab",role:"tablist"},a.createElement(d.y5,{className:"h5 mb-0",onClick:()=>n(0),action:!0,active:0===r},"General"),a.createElement(d.y5,{className:"h5 mb-0",onClick:()=>n(1),action:!0,active:1===r},"Style"),a.createElement(d.y5,{className:"h5 mb-0",onClick:()=>n(2),action:!0,active:2===r},"Tools"))),a.createElement(d.UF,{className:"pl-0",xs:"7"},a.createElement(d.eL,null,a.createElement(d.x1,{active:0===r},a.createElement(G,{settingType:"simple",settingTitle:"General Settings",settingAttribute:[{name:"Flow Index",id:"flowIndex",value:t.flowIndex,showValue:["normal","dark-pool","both"].map(e=>{if(t.flowIndex==e)switch(t.flowIndex){case"normal":return"Flow Index";case"dark-pool":return"DarkPool Index";case"both":return"Combo"}}),options:[{name:"Flow Index",id:"normal"},{name:"DarkPool Index",id:"dark-pool"},{name:"Combo",id:"both"}],onClick:!1},{name:"Time Frame",id:"periodicity",value:t.periodicity,showValue:["1m","15m"].map(e=>{if(t.periodicity==e)switch(t.periodicity){case"1m":return"1 Minute";case"15m":return"15 Minutes"}}),options:[{name:"1 Minute",id:"1m"},{name:"15 Minutes",id:"15m"}],onClick:!1},{name:"Chart Type",id:"chartType",value:t.chartType,showValue:["ohlc","candles"].map(e=>{if(t.chartType==e)switch(t.chartType){case"ohlc":return"OHLC";case"candles":return"Candles"}}),options:[{name:"OHLC",id:"ohlc"},{name:"Candles",id:"candles"}],onClick:!1},{name:"Show Average",id:"showAverage",value:t.showAverage,switch:!0,onClick:!1},{name:"Show Grid",id:"showGrid",value:t.showGrid,switch:!0,onClick:!1},{name:"Show BlockTrades",id:"blocksLine",value:t.blocksLine,switch:!0,onClick:!1}],settingApplyToAll:!0})),a.createElement(d.x1,{active:1===r},a.createElement(d.E$,{className:"mb-0"},a.createElement(d.V0,{style:{backgroundColor:0===c?"#1992e3":"transparent"}},a.createElement(d.KV,{className:"d-flex align-items-center text-left text-white text-decoration-none m-0 p-0",onClick:()=>l(0===c?null:0)},a.createElement("h5",{className:"m-0 p-0 mr-auto"},"Color Styles"),a.createElement(u.Ay,{name:0===c?"cis-arrow-thick-top":"cis-arrow-thick-bottom"}))),a.createElement(d.x8,{show:0===c},a.createElement(d.W6,{className:"p-0"},a.createElement(G,{settingType:"simple",settingAttribute:[{name:"Background Color",id:"backgroundColor",value:t.backgroundColor,colors:!0,onClick:!1},{name:"Price Bars Color",id:"priceBarsColor",value:t.priceBarsColor,colors:!0,onClick:!1},{name:"Normal Flow Index",id:"flowIndexColor",value:t.flowIndexColor,colors:!0,onClick:!1},{name:"Average Flow Index",id:"flowIndexAvgColor",value:t.flowIndexAvgColor,colors:!0,onClick:!1},{name:"Dark Flow Index",id:"flowDarkIndexColor",value:t.flowDarkIndexColor,colors:!0,onClick:!1},{name:"Combo Flow Index",id:"flowBothIndexColor",value:t.flowBothIndexColor,colors:!0,onClick:!1},{name:"Dark Pool BlockTrade",id:"blockTradesDarkPoolColor",value:t.blockTradesDarkPoolColor,colors:!0,onClick:!1},{name:"Regular Pool BlockTrade",id:"blockTradesRegularPoolColor",value:t.blockTradesRegularPoolColor,colors:!0,onClick:!1}],settingApplyToAll:!0})))),a.createElement(d.E$,{className:"mb-0"},a.createElement(d.V0,{style:{backgroundColor:1===c?"#1992e3":"transparent"}},a.createElement(d.KV,{className:"d-flex align-items-center text-left text-white text-decoration-none m-0 p-0",onClick:()=>l(1===c?null:1)},a.createElement("h5",{className:"m-0 p-0 mr-auto"},"Line Styles"),a.createElement(u.Ay,{name:1===c?"cis-arrow-thick-top":"cis-arrow-thick-bottom"}))),a.createElement(d.x8,{show:1===c},a.createElement(d.W6,{className:"p-0"},a.createElement(G,{settingType:"simple",settingAttribute:[{name:"Flow Index Thickness",id:"flowIndexWidth",value:t.flowIndexWidth,input:!0,maxValue:10,minValue:1,onClick:!1}],settingApplyToAll:!0}))))),a.createElement(d.x1,{active:2===r},a.createElement(G,{settingType:"simple",settingTitle:"Chart Tools",settingAttribute:[{name:"Fibonacci Retracements",id:{drawingMode:!0,fibonacciRetracements:!0,fibonacciTrendLineColor:t.fibonacciRetracementsColor},icon:"fibonacci",shortCode:"ALT+F",colorId:"fibonacciRetracementsColor",colors:!0,value:t.fibonacciRetracementsColor},{name:"Finite Line",id:{drawingMode:!0,trendLine:!0,trendLineType:"LINE",trendLineColor:t.trendLineLineColor},icon:"sLine",shortCode:"ALT+L",colorId:"trendLineLineColor",colors:!0,value:t.trendLineLineColor},{name:"Semi-Infinite Line",id:{drawingMode:!0,trendLine:!0,trendLineType:"RAY",trendLineColor:t.trendLineRayColor},icon:"siLine",shortCode:"ALT+R",colorId:"trendLineRayColor",colors:!0,value:t.trendLineRayColor},{name:"Infinite Line",id:{drawingMode:!0,trendLine:!0,trendLineType:"XLINE",trendLineColor:t.trendLineXlineColor},icon:"iLine",shortCode:"ALT+X",colorId:"trendLineXlineColor",colors:!0,value:t.trendLineXlineColor}]})))))});let ee;r(84715);const te=(0,n.Ng)(e=>({charts:e.charts.charts,updateTheCharts:e.charts.updateTheCharts,brands:e.charts.brands,mainHeight:e.charts.mainHeight,fullScreenMode:e.charts.fullScreenMode,brandsModelShow:e.charts.brandsModelShow,settingsModelShow:e.charts.settingsModelShow,currentChartSettings:e.charts.currentChartSettings,screenShotSrc:e.charts.screenShotSrc,showScreenShotModal:e.charts.showScreenShotModal,selectedChart:e.charts.selectedChart,showTourSteps:e.charts.showTourSteps,showTour:e.firebase.profile.showTour,watchList:e.charts.watchList,watchListChanged:e.charts.watchListChanged,disableEvent:e.charts.disableEvent,updateProfileError:e.user.updateProfileError,updateInProgress:e.user.updateInProgress,discordInfo:e.user.discordInfo}),e=>({updateProperty:t=>e((0,c.$)(t)),EditProfile:(t,r)=>e((0,o._t)(t,r)),ShareDiscord:t=>e((0,o.wl)(t)),signOut:()=>e((0,s.CI)()),SetChartSettings:(t,r,a,n)=>e((0,l.SU)(t,r,a,n)),ResetChartSettings:()=>e((0,l.TZ)()),EditWatchList:t=>e((0,l.WA)(t))}))(e=>{const{charts:t,updateTheCharts:r,brands:n,mainHeight:c,fullScreenMode:l,brandsModelShow:o,settingsModelShow:s,currentChartSettings:h,screenShotSrc:m,showScreenShotModal:p,selectedChart:f,showTourSteps:g,showTour:y,watchList:b,watchListChanged:S,disableEvent:k,updateProfileError:E,updateInProgress:C,discordInfo:w,updateProperty:v,EditProfile:x,ShareDiscord:T,SetChartSettings:N,EditWatchList:L,signOut:R,ResetChartSettings:D}=e,[M,A]=(0,a.useState)([]),[F,I]=(0,a.useState)("top-center"),[U,P]=(0,a.useState)(!0),[B,H]=(0,a.useState)(5e3),[z,V]=(0,a.useState)(!0),[O,j]=(0,a.useState)(!0),[W,K]=(0,a.useState)("bg-danger"),[$,X]=(0,a.useState)(!1);(0,a.useRef)(null),(0,a.useRef)(null),(0,a.useEffect)(async()=>{null!==E&&(K("bg-danger"),Y("Updating Failed",E)),(void 0===y||y)&&v({showTourSteps:!0}),ee&&ee.update()},[n,y,E,S]);const Y=(e,t)=>{A([...M,{position:F,autohide:U&&B,closeButton:z,fade:O,type:W,title:e,body:t}])},J=M.reduce((e,t)=>(e[t.position]=e[t.position]||[],e[t.position].push(t),e),{});return a.createElement(a.Fragment,null,t.length<4&&!l&&a.createElement(d.Q_,{onClick:()=>v({selectedChart:null,brandsModelShow:!0}),className:"add-new-market_button first-step",shape:"pill",color:"primary"},a.createElement(u.Ay,{size:"xl",name:"cis-plus",className:"mr-2"}),"Add New Symbol"),a.createElement(Q,null),a.createElement(d.sK,null,a.createElement(d.UF,{sm:"12",lg:"12"},Object.keys(J).map(e=>a.createElement(d.Yq,{position:e,key:"toaster"+e},J[e].map((e,t)=>a.createElement(d.JY,{className:e.type,key:"toast"+t,show:!0,autohide:e.autohide,fade:e.fade},a.createElement(d.AH,{className:"bg-danger",closeButton:e.closeButton},e.title),a.createElement(d.Bw,null,e.body))))))),o&&a.createElement(d.zS,{show:o,onClose:()=>{v({disableEvent:!1,brandsModelShow:!1})},onClosed:()=>v({disableEvent:!1}),onOpened:()=>{v({disableEvent:!0}),ee=new i.A(".symbols-modal-body")},closeOnBackdrop:!1},a.createElement(d.E4,{className:"font-weight-bold",closeButton:!0},"Add New Symbol"),a.createElement(d.Tc,{style:{paddingRight:10},className:"pl-0 pb-0 pt-0 symbols-modal-body h-50"},a.createElement(_,null))),s&&a.createElement(d.zS,{show:s,onOpened:()=>v({disableEvent:!0}),onClose:()=>{v({disableEvent:!1,currentChartSettings:{},settingsModelShow:!s})},onClosed:()=>v({disableEvent:!1}),closeOnBackdrop:!1,size:"lg"},a.createElement(d.E4,{className:"h5 mb-0",closeButton:!0},a.createElement("div",{className:"d-flex align-items-center"},"Chart Settings",a.createElement(d.Q_,{size:"sm",className:"font-weight-bold ml-3",shape:"pill",color:"primary",onClick:D},"Factory Reset"))),a.createElement(d.Tc,{className:"p-0"},a.createElement(Z,null))),p&&a.createElement(d.zS,{show:p,onOpened:()=>v({disableEvent:!0}),onClose:()=>{v({disableEvent:!1,screenShotSrc:null,showScreenShotModal:!p})},onClosed:()=>v({disableEvent:!1}),closeOnBackdrop:!1,size:"lg"},a.createElement(d.E4,{className:"h5 mb-0",closeButton:!0},"ScreenShot Share"),a.createElement(d.Tc,{className:""},null==m&&a.createElement("div",{style:{height:c,position:"relative"}},a.createElement(d.JT,{className:"absolute-spinner"})),null!==m&&a.createElement("img",{width:"100%",style:{borderRadius:10},src:m}),w&&a.createElement(d.Q_,{onClick:()=>{T(m),v({showScreenShotModal:!1})},className:"mt-3 font-weight-bold text-white",shape:"pill",style:{backgroundColor:"#5865F2"}},a.createElement("div",{className:"d-flex align-items-center"},a.createElement("div",{className:"d-flex align-items-center"},a.createElement(u.Ay,{size:"lg",name:"cib-discord",className:"mr-1"})," Share on Discord"))))),a.createElement(d.zS,{show:$,onOpened:()=>v({disableEvent:!0}),onClose:()=>{v({disableEvent:!1}),X(!1)},onClosed:()=>v({disableEvent:!1}),closeOnBackdrop:!1,className:"compact-modal",centered:!0},a.createElement(d.E4,{className:"h5 mb-0",closeButton:!0},"Cancel confirmation"),a.createElement(d.Tc,{className:""},a.createElement("div",null,"Are you sure you want to cancel your subscription ?")),a.createElement(d.If,{className:"justify-content-start"},a.createElement(d.Q_,{onClick:()=>{x({cancelv2:!0},R()),X(!1)},className:"btn-pill font-weight-bold",color:"danger",disabled:C},C?"Cancelling ...":"Yes, cancel my account")," ",a.createElement(d.Q_,{className:"btn-pill font-weight-bold",color:"secondary",onClick:()=>X(!1)},"No"))))})}}]);